<main class="p-6">
  <!-- Top bar with title + Add button -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-lg font-bold">Products</h2>
    <a href="{{ url_for('create_product') }}"
       class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
      + Add Product
    </a>
  </div>

  <!-- Product Table -->
  <div class="bg-white shadow rounded overflow-x-auto">
    <table class="w-full text-left border-collapse">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="p-3">Image</th>
          <th class="p-3">Name</th>
          <th class="p-3">Price</th>
          <th class="p-3">Stock</th>
          <th class="p-3">Category</th>
          <th class="p-3 text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr class="border-t hover:bg-gray-50">
          <td class="p-3">
            <img src="{{ product.image_url }}"
                 alt="{{ product.name }}" class="w-12 h-12 object-cover rounded">
          </td>
          <td class="p-3">{{ product.name }}</td>
          <td class="p-3">KSh {{ product.price }}</td>
          <td class="p-3">
            {% if product.stock > 0 %}
              <span class="text-green-600">{{ product.stock }}</span>
            {% else %}
              <span class="text-red-500">Out of stock</span>
            {% endif %}
          </td>
          <td class="p-3">{{ product.description }}</td>
          <td class="p-3 text-right flex justify-end gap-2">
            <a href=""
               class="px-3 py-1 bg-yellow-400 text-white rounded hover:bg-yellow-500">
               Edit
            </a>
            <form action="" method="POST"
                  onsubmit="return confirm('Are you sure you want to delete this product?');">
              <button type="submit"
                      class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">
                Delete
              </button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="6" class="p-3 text-center text-gray-500">
            No products found.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</main>
